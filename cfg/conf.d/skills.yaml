%YAML 1.2
%TAG ! tag:fawkesrobotics.org,cfg/
---
doc-url: !url https://trac.fawkesrobotics.org/wiki/Carologistics/skills
---
skills:
  # The distance the robot has to drive after being aligned
  # in front of the mps
  approach_distance_conveyor:
    x: 0.31
  approach_distance_laser:
    x: 0.27
  conveyor_align:
    # low is the minimum required fitness to do anything
    # if fitness is >= high, we assume that the fit is perfect
    # and don't re-run ICP after moving
    conveyor_low: 15
    conveyor_high: 25
    slide_low: 7
    slide_high: 17
    GRIP_OFFSET_X: 0.03
    GRIP_OFFSET_Y: 0
    GRIP_OFFSET_Z: 0.02
    TARGET_POS_X: -0.255
    TARGET_POS_Y: 0
    TARGET_POS_ORI: 0
    GRIPPER_POSE_X: 0.05
    GRIPPER_POSE_Y: 0
    GRIPPER_POSE_Z: 0.03
    MAX_RETRIES: 2
    MAX_VISION_RETRIES: 2
  drive_to_machine_point:
    LINE_MATCH_TOLERANCE: 1.2
    LINE_MATCH_ANG_TOLERANCE: 0.05
    NAVGRAPH_LIN_TOLERANCE: 0.5
    NAVGRAPH_ANG_TOLERANCE: 0.5
    LINE_LENGTH_MIN: 0.64
    LINE_LENGTH_MAX: 0.71
    MAX_VEL_MOTOR_MOVE: 0.1
    NUM_DIRECT_MPS_ALIGN_TRIES: 4
    CONVEYOR_IN_OUT_OFFSET: 0.03
    OFFSET_CONVEYOR: 0
    OFFSET_SHELF_RIGHT: -0.3
    OFFSET_SHELF_MIDDLE: -0.2
    OFFSET_SHELF_LEFT: -0.1
    OFFSET_SLIDE: -0.27
    MIN_VIS_HIST_LINE: 5
    MIN_VIS_HIST_LINE_SEARCH: 6
  explore_zone:
    ZONE_MARGIN: 0.05
    CAM_ANGLE: 0.4
    MIN_VIS_HIST: 10
    MAX_ATTEMPTS: 4
    X_MAX: 6.6
    Y_MIN: 0.3
    Y_MAX: 7.6
    ZONE_CORNERS:
      x_1: 0.7
      y_1: 0.07
      x_2: -0.07
      y_2: 0.7
      x_3: -0.76
      y_3: -0.81
    TAG_LINE_TOLERANCE_trans: 0.2
    TAG_LINETOLERANCE_rot: 0.05
  # The distance goto travels before transitioning into FINAL when going to a
  # waiting position
  goto:
    distance_to_travel: 0.5
  mps_align:
    MIN_VIS_HIST_LINE: 5
    MIN_VIS_HIST_LINE_SEARCH: 4
    IN_VIS_HIST_TAG: 5
    LINE_LENGTH_MIN: 0.64
    LINE_LENGTH_MAX: 0.71
    LINE_XDIST_MAX: 0.6
    LINE_MATCH_TOLERANCE: 0.3
    MAX_TRIES: 8
    pre_conveyor_pose_x: 0.05
    pre_conveyor_pose_y: 0.0
    pre_conveyor_pose_z: 0.03
    TURN_MOVE_1: 3.1415926535898
    TURN_MOVE_2: -1.57079632679
    TURN_MOVE_3: -3.1415926535898
  shelf_pick:
    left_slot_y_offset: 0.0
    middle_slot_y_offset: 0.0
    right_slot_y_offset: 0.0
