%YAML 1.2
%TAG ! tag:fawkesrobotics.org,cfg/
---
doc-url: !url http://trac.fawkesrobotics.org/wiki/Plugins/tag_vision
---

plugins/conveyor_vision:
  # camera being used
  #camera: "file:file:file=/home/fnolden/Bilder/Webcam/11.jpg"
  #camera: v4l2:front:device=/dev/video0 #:size=640x480:awb=false:aec=false:agc=false:exposure=305
  #camera: v4l2:light:device=/dev/video1:white_balance_temperature_auto=0:exposure_auto=1:exposure_absolute=305
  camera: v4l2:conveyor:device=/dev/video_conveyor

  #Shared Memory Imagebuffer name
  shm_image_id: "conveyor_vision"

  # frame of reference
  frame: "/cam_tag"

  classifier_file: conveyor_classifier.xml
  
  # obj_distance is the measured distance in cm from the camera to the object 
  # that occupies the number of pixels in width determined in obj_pixels
  obj_realworld_distance: 21
 
  # obj_pixels determines the number of pixels in width 
  # that the object occupies in the camera's image given obj_distance 
  obj_realworld_pixels: 180

  # obj_realworld_width determines the width of the object in the real world in cm
  obj_realworld_width: 6.5

  # num_frames_for_average determines the number of images to calculate the x-average
  num_frames_for_average: 10

  # conveyor_distance_threshold determines a maximum 
  # allowed distance in meters from the camera to the conveyor.
  # Measurements in x above this value are ignored.
  conveyor_distance_threshold: 1

  # enable visualization of detected conveyor
  visualization_enabled: true
