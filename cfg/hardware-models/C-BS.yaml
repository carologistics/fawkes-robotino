%YAML 1.2
%TAG ! tag:fawkesrobotics.org,cfg/

C-BS:
  states:
    - IDLE
    - DOWN-TO-IDLE
    - DOWN-TO-READY-AT-OUTPUT
    - READY-AT-OUTPUT
    - BROKEN
    - PREPARED

  IDLE:
    edges:
      - DOWN-TO-IDLE
      - BROKEN
      - PREPARED
      - READY-AT-OUTPUT
    DOWN-TO-IDLE:
      transition: refbox_c_bs_down
      probability: 0.05
    READY-AT-OUTPUT:
      transition: prepare-bs
    BROKEN:
      transition: reset-mps
    PREPARED:
      transition: prepare-bs

  DOWN-TO-IDLE:
    edges:
      - IDLE
    IDLE:
      transition: back_up_c_bs
      probability: 1.0

  DOWN-TO-READY-AT-OUTPUT:
    edges:
      - READY-AT-OUTPUT
    READY-AT-OUTPUT:
      transition: back_up_c_bs
      probability: 1.0

  READY-AT-OUTPUT:
    edges:
      - IDLE
      - BROKEN
    IDLE:
      transition: wp-get
    BROKEN:
      transition: reset-mps
    DOWN:
      transition: refbox_c_bs_down
      probability: 0.05

  BROKEN:
    edges:
      - IDLE
    IDLE:
      transition: unbreak_c_bs
      probability: 1.0

  PREPARED:
    edges:
      - BROKEN
      - READY-AT-OUTPUT
    BROKEN:
      transition: break_c_bs
      probability: 0.05
    READY-AT-OUTPUT:
      transition: c_bs_finished_processing
      probability: 1.0






